<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.3.0 Chrome/140.0.7339.249 Electron/38.7.2 Safari/537.36" version="29.3.0">
  <diagram id="agent4-architecture-view" name="Agent 4 架构视图">
    <mxGraphModel dx="1426" dy="841" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="3000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1" value="前端应用 - Agent 4 架构视图" vertex="1">
          <mxGeometry height="40" width="1000" x="500" y="20" as="geometry" />
        </mxCell>
        <mxCell id="business-layer-title" parent="1" style="text;html=1;strokeColor=#F4B942;fillColor=#FFF8DC;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;strokeWidth=2" value="业务层 (Business Layer)" vertex="1">
          <mxGeometry height="40" width="300" x="50" y="80" as="geometry" />
        </mxCell>
        <mxCell id="business-auth" parent="1" style="shape=mxgraph.archimate3.business;appType=serv;archiType=rounded;fillColor=#FFD54F;strokeColor=#666666;fontColor=#000000;" value="用户认证业务" vertex="1">
          <mxGeometry height="60" width="200" x="50" y="140" as="geometry" />
        </mxCell>
        <mxCell id="business-account" parent="1" style="shape=mxgraph.archimate3.business;appType=serv;archiType=rounded;fillColor=#FFD54F;strokeColor=#666666;fontColor=#000000;" value="账户管理业务" vertex="1">
          <mxGeometry height="60" width="200" x="280" y="140" as="geometry" />
        </mxCell>
        <mxCell id="business-transaction" parent="1" style="shape=mxgraph.archimate3.business;appType=serv;archiType=rounded;fillColor=#FFD54F;strokeColor=#666666;fontColor=#000000;" value="交易功能业务" vertex="1">
          <mxGeometry height="60" width="200" x="510" y="140" as="geometry" />
        </mxCell>
        <mxCell id="business-admin" parent="1" style="shape=mxgraph.archimate3.business;appType=serv;archiType=rounded;fillColor=#FFD54F;strokeColor=#666666;fontColor=#000000;" value="管理后台业务" vertex="1">
          <mxGeometry height="60" width="200" x="740" y="140" as="geometry" />
        </mxCell>
        <mxCell id="application-layer-title" parent="1" style="text;html=1;strokeColor=#66BB6A;fillColor=#E8F5E9;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;strokeWidth=2" value="应用层 (Application Layer) - 前端应用" vertex="1">
          <mxGeometry height="40" width="500" x="50" y="240" as="geometry" />
        </mxCell>
        <mxCell id="app-page-login" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="Login Page&#xa;登录页面" vertex="1">
          <mxGeometry height="50" width="150" x="50" y="300" as="geometry" />
        </mxCell>
        <mxCell id="app-page-register" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="Register Page&#xa;注册页面" vertex="1">
          <mxGeometry height="50" width="150" x="220" y="300" as="geometry" />
        </mxCell>
        <mxCell id="app-page-account" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="AccountOverview Page&#xa;账户概览页面" vertex="1">
          <mxGeometry height="50" width="150" x="390" y="300" as="geometry" />
        </mxCell>
        <mxCell id="app-page-transfer" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="Transfer Page&#xa;转账页面" vertex="1">
          <mxGeometry height="50" width="150" x="560" y="300" as="geometry" />
        </mxCell>
        <mxCell id="app-page-history" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="TransactionHistory Page&#xa;交易历史页面" vertex="1">
          <mxGeometry height="50" width="150" x="730" y="300" as="geometry" />
        </mxCell>
        <mxCell id="app-component-ui" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="UI Components&#xa;Button, Input, Card等" vertex="1">
          <mxGeometry height="60" width="200" x="50" y="380" as="geometry" />
        </mxCell>
        <mxCell id="app-component-layout" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="Layout Components&#xa;Header, Sidebar, Footer" vertex="1">
          <mxGeometry height="60" width="200" x="280" y="380" as="geometry" />
        </mxCell>
        <mxCell id="app-store-auth" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="AuthStore&#xa;认证状态管理" vertex="1">
          <mxGeometry height="50" width="180" x="50" y="470" as="geometry" />
        </mxCell>
        <mxCell id="app-store-account" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="AccountStore&#xa;账户状态管理" vertex="1">
          <mxGeometry height="50" width="180" x="260" y="470" as="geometry" />
        </mxCell>
        <mxCell id="app-store-transaction" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="TransactionStore&#xa;交易状态管理" vertex="1">
          <mxGeometry height="50" width="180" x="470" y="470" as="geometry" />
        </mxCell>
        <mxCell id="app-service-core-bank" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="CoreBankApi&#xa;核心银行服务API" vertex="1">
          <mxGeometry height="50" width="180" x="50" y="550" as="geometry" />
        </mxCell>
        <mxCell id="app-service-payment" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="PaymentApi&#xa;支付服务API" vertex="1">
          <mxGeometry height="50" width="180" x="260" y="550" as="geometry" />
        </mxCell>
        <mxCell id="app-service-risk" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="RiskApi&#xa;风控服务API" vertex="1">
          <mxGeometry height="50" width="180" x="470" y="550" as="geometry" />
        </mxCell>
        <mxCell id="app-routes" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="React Router v6&#xa;路由配置" vertex="1">
          <mxGeometry height="50" width="180" x="50" y="630" as="geometry" />
        </mxCell>
        <mxCell id="app-external-title" parent="1" style="text;html=1;strokeColor=#66BB6A;fillColor=#E8F5E9;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;strokeWidth=2" value="外部服务集成" vertex="1">
          <mxGeometry height="30" width="200" x="920" y="240" as="geometry" />
        </mxCell>
        <mxCell id="app-core-bank-service" parent="1" style="shape=mxgraph.archimate3.application;appType=serv;archiType=rounded;fillColor=#E8F5E9;strokeColor=#666666;fontColor=#000000;" value="CoreBankService&#xa;Agent 1 核心银行服务" vertex="1">
          <mxGeometry height="60" width="200" x="920" y="280" as="geometry" />
        </mxCell>
        <mxCell id="app-payment-service" parent="1" style="shape=mxgraph.archimate3.application;appType=serv;archiType=rounded;fillColor=#E8F5E9;strokeColor=#666666;fontColor=#000000;" value="PaymentService&#xa;Agent 2 支付服务" vertex="1">
          <mxGeometry height="60" width="200" x="920" y="360" as="geometry" />
        </mxCell>
        <mxCell id="app-risk-service" parent="1" style="shape=mxgraph.archimate3.application;appType=serv;archiType=rounded;fillColor=#E8F5E9;strokeColor=#666666;fontColor=#000000;" value="RiskService&#xa;Agent 3 风控服务" vertex="1">
          <mxGeometry height="60" width="200" x="920" y="440" as="geometry" />
        </mxCell>
        <mxCell id="app-infra-title" parent="1" style="text;html=1;strokeColor=#66BB6A;fillColor=#E8F5E9;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;strokeWidth=2" value="基础设施服务" vertex="1">
          <mxGeometry height="30" width="200" x="920" y="520" as="geometry" />
        </mxCell>
        <mxCell id="app-api-gateway" parent="1" style="shape=mxgraph.archimate3.application;appType=serv;archiType=rounded;fillColor=#E8F5E9;strokeColor=#666666;fontColor=#000000;" value="API Gateway&#xa;(Kong) - Agent 5" vertex="1">
          <mxGeometry height="60" width="200" x="920" y="560" as="geometry" />
        </mxCell>
        <mxCell id="data-layer-title" parent="1" style="text;html=1;strokeColor=#1976D2;fillColor=#BBDEFB;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;strokeWidth=2" value="数据层 (Data Layer)" vertex="1">
          <mxGeometry height="40" width="300" x="50" y="720" as="geometry" />
        </mxCell>
        <mxCell id="data-auth-state" parent="1" style="shape=mxgraph.archimate3.data;appType=passive;archiType=rounded;fillColor=#64B5F6;strokeColor=#666666;fontColor=#000000;" value="Auth State&#xa;认证状态数据" vertex="1">
          <mxGeometry height="50" width="180" x="50" y="780" as="geometry" />
        </mxCell>
        <mxCell id="data-account-state" parent="1" style="shape=mxgraph.archimate3.data;appType=passive;archiType=rounded;fillColor=#64B5F6;strokeColor=#666666;fontColor=#000000;" value="Account State&#xa;账户状态数据" vertex="1">
          <mxGeometry height="50" width="180" x="260" y="780" as="geometry" />
        </mxCell>
        <mxCell id="data-transaction-state" parent="1" style="shape=mxgraph.archimate3.data;appType=passive;archiType=rounded;fillColor=#64B5F6;strokeColor=#666666;fontColor=#000000;" value="Transaction State&#xa;交易状态数据" vertex="1">
          <mxGeometry height="50" width="180" x="470" y="780" as="geometry" />
        </mxCell>
        <mxCell id="data-cache" parent="1" style="shape=mxgraph.archimate3.data;appType=passive;archiType=rounded;fillColor=#64B5F6;strokeColor=#666666;fontColor=#000000;" value="Browser Cache&#xa;浏览器缓存" vertex="1">
          <mxGeometry height="50" width="180" x="50" y="860" as="geometry" />
        </mxCell>
        <mxCell id="data-local-storage" parent="1" style="shape=mxgraph.archimate3.data;appType=passive;archiType=rounded;fillColor=#64B5F6;strokeColor=#666666;fontColor=#000000;" value="LocalStorage&#xa;本地存储" vertex="1">
          <mxGeometry height="50" width="180" x="260" y="860" as="geometry" />
        </mxCell>
        <mxCell id="technology-layer-title" parent="1" style="text;html=1;strokeColor=#7CB342;fillColor=#DCEDC8;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;strokeWidth=2" value="技术层 (Technology Layer)" vertex="1">
          <mxGeometry height="40" width="300" x="50" y="950" as="geometry" />
        </mxCell>
        <mxCell id="tech-react" parent="1" style="shape=mxgraph.archimate3.technology;appType=sysSw;archiType=rounded;fillColor=#AED581;strokeColor=#666666;fontColor=#000000;" value="React 18&#xa;UI框架" vertex="1">
          <mxGeometry height="60" width="180" x="50" y="1010" as="geometry" />
        </mxCell>
        <mxCell id="tech-typescript" parent="1" style="shape=mxgraph.archimate3.technology;appType=sysSw;archiType=rounded;fillColor=#AED581;strokeColor=#666666;fontColor=#000000;" value="TypeScript 5.x&#xa;类型系统" vertex="1">
          <mxGeometry height="60" width="180" x="260" y="1010" as="geometry" />
        </mxCell>
        <mxCell id="tech-tailwind" parent="1" style="shape=mxgraph.archimate3.technology;appType=sysSw;archiType=rounded;fillColor=#AED581;strokeColor=#666666;fontColor=#000000;" value="Tailwind CSS 3.x&#xa;样式框架" vertex="1">
          <mxGeometry height="60" width="180" x="470" y="1010" as="geometry" />
        </mxCell>
        <mxCell id="tech-router" parent="1" style="shape=mxgraph.archimate3.technology;appType=sysSw;archiType=rounded;fillColor=#AED581;strokeColor=#666666;fontColor=#000000;" value="React Router v6&#xa;路由管理" vertex="1">
          <mxGeometry height="60" width="180" x="50" y="1100" as="geometry" />
        </mxCell>
        <mxCell id="tech-axios" parent="1" style="shape=mxgraph.archimate3.technology;appType=sysSw;archiType=rounded;fillColor=#AED581;strokeColor=#666666;fontColor=#000000;" value="Axios&#xa;HTTP客户端" vertex="1">
          <mxGeometry height="60" width="180" x="260" y="1100" as="geometry" />
        </mxCell>
        <mxCell id="tech-vite" parent="1" style="shape=mxgraph.archimate3.technology;appType=sysSw;archiType=rounded;fillColor=#AED581;strokeColor=#666666;fontColor=#000000;" value="Vite&#xa;构建工具" vertex="1">
          <mxGeometry height="60" width="180" x="470" y="1100" as="geometry" />
        </mxCell>
        <mxCell id="tech-test-title" parent="1" style="text;html=1;strokeColor=#7CB342;fillColor=#DCEDC8;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;strokeWidth=2" value="测试框架" vertex="1">
          <mxGeometry height="30" width="200" x="700" y="950" as="geometry" />
        </mxCell>
        <mxCell id="tech-jest" parent="1" style="shape=mxgraph.archimate3.technology;appType=sysSw;archiType=rounded;fillColor=#AED581;strokeColor=#666666;fontColor=#000000;" value="Jest&#xa;单元测试" vertex="1">
          <mxGeometry height="50" width="180" x="700" y="990" as="geometry" />
        </mxCell>
        <mxCell id="tech-rtl" parent="1" style="shape=mxgraph.archimate3.technology;appType=sysSw;archiType=rounded;fillColor=#AED581;strokeColor=#666666;fontColor=#000000;" value="React Testing Library&#xa;组件测试" vertex="1">
          <mxGeometry height="50" width="180" x="700" y="1060" as="geometry" />
        </mxCell>
        <mxCell id="tech-cypress" parent="1" style="shape=mxgraph.archimate3.technology;appType=sysSw;archiType=rounded;fillColor=#AED581;strokeColor=#666666;fontColor=#000000;" value="Cypress&#xa;E2E测试" vertex="1">
          <mxGeometry height="50" width="180" x="900" y="990" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" value="图例 (Legend)" vertex="1">
          <mxGeometry height="30" width="200" x="50" y="1200" as="geometry" />
        </mxCell>
        <mxCell id="legend-bus" parent="1" style="shape=mxgraph.archimate3.business;appType=serv;archiType=rounded;fillColor=#FFD54F;strokeColor=#666666;fontColor=#000000;" value="业务层" vertex="1">
          <mxGeometry height="40" width="120" x="50" y="1240" as="geometry" />
        </mxCell>
        <mxCell id="legend-app" parent="1" style="shape=mxgraph.archimate3.application;appType=comp;archiType=rounded;fillColor=#66BB6A;strokeColor=#666666;fontColor=#000000;" value="应用层" vertex="1">
          <mxGeometry height="40" width="120" x="200" y="1240" as="geometry" />
        </mxCell>
        <mxCell id="legend-data" parent="1" style="shape=mxgraph.archimate3.data;appType=passive;archiType=rounded;fillColor=#1976D2;strokeColor=#666666;fontColor=#FFFFFF;" value="数据层" vertex="1">
          <mxGeometry height="40" width="120" x="350" y="1240" as="geometry" />
        </mxCell>
        <mxCell id="legend-tech" parent="1" style="shape=mxgraph.archimate3.technology;appType=node;archiType=rounded;fillColor=#7CB342;strokeColor=#666666;fontColor=#000000;" value="技术层" vertex="1">
          <mxGeometry height="40" width="120" x="500" y="1240" as="geometry" />
        </mxCell>
        <mxCell id="note" parent="1" style="text;html=1;strokeColor=#CCCCCC;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;" value="说明：&#xa;1. 本架构图从Agent 4（前端体验构建器）的视角展示前端应用的内部架构和外部协作关系&#xa;2. 采用ArchiMate 3.2标准，包含业务层、应用层、数据层、技术层四层架构&#xa;3. 应用层采用组件化架构：Pages（页面组件）→ Components（UI组件和布局组件）→ Store（状态管理）→ Services（API服务）→ Routes（路由配置）&#xa;4. 外部服务集成：通过HTTP客户端调用Agent 1（核心银行服务）、Agent 2（支付服务）和Agent 3（风控服务）&#xa;5. 数据层：使用React状态管理存储认证、账户、交易等状态数据，使用浏览器缓存和LocalStorage存储临时数据&#xa;6. 技术栈：React 18 + TypeScript 5.x + Tailwind CSS 3.x + React Router v6 + Axios + Vite&#xa;7. 测试框架：Jest + React Testing Library + Cypress，支持单元测试和E2E测试&#xa;8. 响应式设计：支持移动端和桌面端，使用Tailwind CSS实现响应式布局" vertex="1">
          <mxGeometry height="160" width="1100" x="50" y="1310" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
