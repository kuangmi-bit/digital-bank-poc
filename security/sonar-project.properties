# SonarQube 项目配置 - Digital Bank POC
# 符合技术标准规范 v1.0、命名规范 v1.0
# 维护者: Agent 7 (安全扫描卫士)

# --- 项目标识 ---
sonar.projectKey=digital-bank-poc
sonar.projectName=Digital Bank POC
sonar.projectVersion=1.0.0

# --- 多模块/多语言源码（按服务） ---
# 核心银行服务 (Java/Spring Boot)
sonar.sources=core-bank-service/src/main/java,payment-service/src,risk-service/src,frontend/src
sonar.tests=core-bank-service/src/test/java,payment-service/tests,risk-service/tests,frontend/tests
sonar.java.binaries=core-bank-service/target/classes
sonar.java.libraries=core-bank-service/target/**/*.jar

# --- 排除规则 ---
sonar.exclusions=**/generated/**,**/node_modules/**,**/dist/**,**/build/**,**/__pycache__/**,**/*.min.js,**/vendor/**,**/coverage/**,**/.git/**

# --- 测试与覆盖率 ---
sonar.test.inclusions=**/*Test*.java,**/*.test.js,**/*.spec.js,**/test_*.py,**/*.test.tsx,**/*.spec.tsx
sonar.jacoco.reportPaths=core-bank-service/target/jacoco.exec
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info,payment-service/coverage/lcov.info
sonar.python.coverage.reportPaths=risk-service/coverage.xml

# --- 编码与质量闸门 ---
sonar.sourceEncoding=UTF-8
sonar.qualitygate.wait=true

# --- 可选：SonarQube 服务器（CI 时通过 -D 或环境变量覆盖） ---
# sonar.host.url=http://localhost:9000
# sonar.login=${env.SONAR_TOKEN}
